<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8"/>
	<link rel="icon" type="image/svg+xml" href="/svelte-retag-favicon.svg"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<title>svelte-retag demo (hydratable)</title>
	<script type="module" src="src/main.js"></script>
</head>
<body>

	<div id="app">

		<!--
			NOTE: This is experimental. This demo was generated by:

				1. Performing a build + preview (important to ensure asset references are accurate)
				2. Navigate to this vile in the preview, ensuring you have "hydratable=1" in the query string, e.g.: http://localhost:4173/hydratable.source.html?hydratable=1
				3. Open DevTools and copy the full contents of everything at/under the '<div id="app">' element.
				4. Paste into hydratable.html.

			This demonstrates the potential of pre-rendering custom elements using svelte-retag (e.g. via JSDom) for
			fast page load, reduced CLS (cumulative layout shift) while *still* using ESM (which are deferred), separate
			CSS (for better code splitting) and restoring interactivity once assets have loaded.
		-->

		<app-tag pagetitle="Module with Hydration" page="hydratable" data-svelte-retag-hydratable=""><svelte-retag><main><div class="svelte-1sneid9"><a href="https://github.com/patricknelson/svelte-retag/" target="_blank" rel="noreferrer"><img src="/assets/svelte-retag.svg" class="logo svelte-1sneid9" alt="svelte-retag logo (link to GitHub repo)"></a></div> <nav class="svelte-1sneid9">Demos:
			<ul class="svelte-1sneid9"><li class="svelte-1sneid9"><a href="index.html" class="svelte-1sneid9">Module</a></li><li class="svelte-1sneid9"><a href="hydratable.html" class="svelte-1sneid9 current">Module with Hydration</a></li><li class="svelte-1sneid9"><a href="iife.html" class="svelte-1sneid9">IIFE/UMD</a></li></ul></nav> <h1>Module with Hydration</h1> <svelte-retag-default>

			<intro-tag data-svelte-retag-hydratable=""><svelte-retag><svelte-retag-default>
				<p>Built with the standard <code>es</code> format and included via
					<code>&lt;script type="module"&gt;</code>. However, the HTML on this page was rendered ahead of time
					and then initialized after page load to enable interactivity (a.k.a. ‚Äúhydrated‚Äù).</p>
				<p>Combines the best of both worlds. Specifically: Performing SSR/SSG and then enabling hydration helps to
					<strong>eliminate</strong> cumulative layout shift (CLS) while still allowing better code splitting and the
					<code>defer</code>'ed behavior of <code>type="module"</code>. All while using web components with
					the light DOM.</p>
			</svelte-retag-default> <hr> <h2>Performance</h2> <p>You can compare performance in each demo by opening DevTools, disabling cache, and then
				enabling network throttling (e.g. try "Fast 3G"). This page actually loads <code>angular.js</code> in a <code>&lt;script&gt;</code>
				tag lower in the page which causes the time to <code>DOMContentLoaded</code> to increase on slower connections.</p> <p class="loading-status svelte-1ljvyts">DOMContentLoaded in <span>269.70ms</span>.</p> <hr> <p>This demo is implemented entirely using Svelte components and placed in the page using custom elements. Its purpose
				purely to demonstrate the following:</p> <ul><li>Slots (default and named slots)</li>
				<li>Nesting within slots</li>
				<li>The speed differences between deferred ESM vs. IIFE (on large pages), particularly with regard to CLS (Content
					Layout Shift)</li>
				<li>Vite HMR updates (if launched locally)</li>
				<li>SSR/SSG + hydration <em>(experimental)</em></li></ul> <p>Note that each counter below takes an initial <code>count</code> attribute with an <code>award</code> value, at which
				point a üéâ emoji is first displayed (with randomized emojis after that). Press <code>+</code> or <code>-</code> keys on
				your keyboard to quickly increase/decrease the count.</p></svelte-retag></intro-tag>

			<example-tag data-svelte-retag-hydratable=""><svelte-retag><div class="wrapper svelte-15rtm5g"><div class="title svelte-15rtm5g"><p slot="title" data-svelte-retag-slot="">Default: Count starts at 0, award at 100.</p></div> <div class="content svelte-15rtm5g"><counter-tag slot="content" data-svelte-retag-slot="" data-svelte-retag-hydratable=""><svelte-retag><button title="Tip: Press + or - while focused on this button." class="svelte-1cko5ar"><img src="/assets/svelte.svg" alt="svelte logo" class="svelte-1cko5ar"> Count is 0 </button></svelte-retag></counter-tag></div></div></svelte-retag></example-tag>

			<example-tag data-svelte-retag-hydratable=""><svelte-retag><div class="wrapper svelte-15rtm5g"><div class="title svelte-15rtm5g"><p slot="title" data-svelte-retag-slot="">Start out just 1 click away from the "award".</p></div> <div class="content svelte-15rtm5g"><counter-tag slot="content" count="99" data-svelte-retag-slot="" data-svelte-retag-hydratable=""><svelte-retag><button title="Tip: Press + or - while focused on this button." class="svelte-1cko5ar"><img src="/assets/svelte.svg" alt="svelte logo" class="svelte-1cko5ar"> Count is 99 </button></svelte-retag></counter-tag></div></div></svelte-retag></example-tag>

			<example-tag data-svelte-retag-hydratable=""><svelte-retag><div class="wrapper svelte-15rtm5g"><div class="title svelte-15rtm5g"><p slot="title" data-svelte-retag-slot="">1337 award</p></div> <div class="content svelte-15rtm5g"><counter-tag slot="content" count="1337" award="1337" data-svelte-retag-slot="" data-svelte-retag-hydratable=""><svelte-retag><button title="Tip: Press + or - while focused on this button." class="svelte-1cko5ar"><img src="/assets/svelte.svg" alt="svelte logo" class="svelte-1cko5ar"> Count is 1337 üéâ</button></svelte-retag></counter-tag></div></div></svelte-retag></example-tag>

			<example-tag data-svelte-retag-hydratable=""><svelte-retag><div class="wrapper svelte-15rtm5g"><div class="title svelte-15rtm5g"><p slot="title" data-svelte-retag-slot="">Nested slot: "Total is"</p></div> <div class="content svelte-15rtm5g"><counter-tag slot="content" data-svelte-retag-slot="" data-svelte-retag-hydratable=""><svelte-retag><button title="Tip: Press + or - while focused on this button." class="svelte-1cko5ar"><img src="/assets/svelte.svg" alt="svelte logo" class="svelte-1cko5ar"> <svelte-retag-default>Total is</svelte-retag-default> 0 </button></svelte-retag></counter-tag></div></div></svelte-retag></example-tag>

		</svelte-retag-default> <p class="loading-status svelte-1ljvyts">This component rendered after <span>258.70ms</span>.</p></main></svelte-retag></app-tag>

	</div>

	<!-- Reference some large external scripts to intentionally increase DOMContentLoaded time. -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.8.3/angular.js"></script>

</body>
</html>
