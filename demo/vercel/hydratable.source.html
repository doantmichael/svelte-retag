<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8"/>
	<link rel="icon" type="image/svg+xml" href="/svelte-retag-favicon.svg"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<title>svelte-retag demo (hydratable)</title>
	<script type="module" src="src/main.js"></script>
</head>
<body>

	<div id="app">

		<!--
			NOTE: This is experimental. This demo was generated by:

				1. Performing a build + preview (important to ensure asset references are accurate)
				2. Navigate to this page in the preview, ensuring you have "hydratable=1" in the query string, e.g.: http://localhost:4173/hydratable.source.html?hydratable=1
				3. Open DevTools and copy the full contents of everything at/under the '<div id="app">' element.
				4. Paste into hydratable.html.

			This demonstrates the potential of pre-rendering custom elements using svelte-retag (e.g. via JSDom) for
			fast page load, reduced CLS (cumulative layout shift) while *still* using ESM (which are deferred), separate
			CSS (for better code splitting) and restoring interactivity once assets have loaded.
		-->

		<app-tag pagetitle="Module with Hydration" page="hydratable">

			<intro-tag>
				<p>Built with <code>es</code> format and included via <code>&lt;script type=&quot;module&quot;&gt;</code> with
					HTML pre-rendered and components initialized after page load to enable interactivity (a.k.a.
					&ldquo;<a href="https://en.wikipedia.org/wiki/Hydration_(web_development)" target="_blank" rel="noopener">hydrated</a>&rdquo;).
				</p>
				<p>
					CLS can occur when your <code>svelte-retag</code> web components loaded as modules don't render until after
					the HTML on the rest of the page has finished parsing. SSR/SSG combined with hydration helps to eliminate this
					by pushing the code responsible for <em>displaying</em> your web components immediately along with the rest of
					the page. Interactivity is then restored to those components once modules (which are
					<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/script#attributes" target="_blank" rel="noopener">always
						deferred</a>) have finished loading.</p>
			</intro-tag>

			<!-- Top level context (starts at tabs-wrapper) -->
			<tabs-wrapper>
				<tab-list>
					<tab-button>Features</tab-button>
					<tab-button>Examples</tab-button>
				</tab-list>

				<!-- Features -->
				<tab-panel>
					<features-info></features-info>
				</tab-panel>


				<!-- Examples -->
				<tab-panel>

					<!-- Nested context -->
					<tabs-wrapper>

						<tab-list>
							<tab-button>Slots and Attributes</tab-button>
							<tab-button>Nested Context Support</tab-button>
						</tab-list>

						<!-- Slots and Attributes -->
						<tab-panel>
							<examples-info></examples-info>

							<example-tag>
								<p slot="title">Default: <code>count</code> starts at 0, <code>award</code> at 100.</p>
								<counter-tag slot="content"></counter-tag>
							</example-tag>

							<example-tag>
								<p slot="title">Start out just 1 click away from the <code>award</code>.</p>
								<counter-tag slot="content" count="99"></counter-tag>
							</example-tag>

							<example-tag>
								<p slot="title">1337 <code>award</code></p>
								<counter-tag slot="content" count="1337" award="1337"></counter-tag>
							</example-tag>

							<example-tag>
								<p slot="title">Slot: "Total is"</p>
								<counter-tag slot="content">Total is</counter-tag>
							</example-tag>
						</tab-panel>

						<!-- Nested Context Support -->
						<tab-panel>
							<tabs-info></tabs-info>
						</tab-panel>
					</tabs-wrapper>

				</tab-panel>

			</tabs-wrapper>

		</app-tag>

	</div>

</body>
</html>
